<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <% group_error_class = '' %>

    <% if form.object.errors[field_name].any? %>
      <% group_error_class = 'govuk-form-group--error' %>
    <% end %>

    <div class="govuk-form-group">
      <div class="govuk-date-input__item <%= group_error_class %>" id="<%= field_name %>">

        <%= content_tag(:label, t(".#{field_name}_label"), default: '', id: "#{field_name}-label".dasherize, class: ['govuk-label']) %>
        <% hint = t(".#{field_name}_hint", default: '') %>
          <% if hint.present? %>
            <%= content_tag(:span, t(".#{field_name}_hint"), default: '', id: "#{field_name}-hint".dasherize, class: ['govuk-hint']) %>
        <% end %>

        <% form.object.errors[field_name].each do |message| %>
            <%= content_tag(:span, message, id: "#{field_name}-error".dasherize, class: 'govuk-error-message') if form.object.errors[field_name].any? %>
        <% end %>

        <fieldset class="govuk-fieldset">
          <div class="govuk-date-input">
            <%= render partial: 'shared/forms/date_part_input_fields', locals: { parent_field: field_name, field_name: :"#{prefix}_day", form: form } %>
            <%= render partial: 'shared/forms/date_part_input_fields', locals: { parent_field: field_name, field_name: :"#{prefix}_month", form: form } %>
            <%= render partial: 'shared/forms/date_part_input_fields', locals: { parent_field: field_name, field_name: :"#{prefix}_year", form: form } %>
          </div>
        </fieldset>
      </div>
    </div>
  </div>
</div>
